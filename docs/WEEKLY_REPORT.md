# Weekly Report生成機能

この機能は、文字起こしされた会話内容を分析し、構造化されたWeekly Reportを自動生成します。AWS BedrockのClaude 3.7 Sonnetモデルを使用して、テキストをナラティブ形式の週次報告書に変換します。

## 概要

Weekly Report生成機能は、特に営業活動やプロジェクト管理において、会議や通話の内容を効率的に要約し報告書形式にまとめるために設計されています。この機能は、文字起こしの要約機能と並んで使用でき、より構造化された形式での情報整理を可能にします。

## 特徴

- **ナラティブ形式の出力**: 箇条書きではなく、文章形式（ナラティブ形式）で情報をまとめます
- **構造化された報告書**: 定型的な報告書フォーマットに沿った内容生成
- **顧客情報の統合**: 顧客名、案件名、案件規模などの情報を報告書に統合
- **Claude 3.7 Sonnet**: 最新のAIモデルによる高品質な文章生成
- **カスタマイズ可能な設定**: モデルパラメータや出力形式のカスタマイズ

## 使用方法

1. 音声ファイルを選択し、文字起こしを実行します
2. 「テキスト要約 / Weekly Report生成」セクションで「Weekly Report」タブを選択します
3. 顧客名（必須）、案件名（任意）、案件規模（任意）などの情報を入力します
4. 「Weekly Reportを生成」ボタンをクリックします
5. 生成されたレポートを確認し、必要に応じてエクスポートします

## 出力形式

生成されるWeekly Reportは以下の構造に従います：

```
[Customer Name - Opportunity Name, Opp Size (ARR/MRR)] Fact(何が起こったか)とimpact(それによってどんなインパクトがあるのか)を記載してください 

[Action Taken] SA/アカウントチームがすでに取ったアクションやエスカレーション内容を記載してください 

[Observation] この事象に関する考察や学びについて記載してください 

[Next Step] SA/アカウントチームが次に取るアクションを記載してください。（Owner: alias@、〜Due date） 

[Ask] リーダーシップに対してのAskがあれば、できる限り具体的に記載してください。
```

## 詳細設定

Weekly Report生成時には、以下の詳細設定が可能です：

- **モデルID**: 使用するモデルを指定できます（デフォルト: Claude 3.7 Sonnet）
- **最大トークン数**: 生成されるテキストの最大長を指定できます
- **温度パラメータ**: 出力の多様性を調整できます（0 = 確実性重視、1 = 多様性重視）

## 技術的な詳細

Weekly Report生成機能は、以下の技術コンポーネントで構成されています：

1. **AWS Bedrock API**: Claude 3.7 Sonnetモデルへのアクセスとプロンプト処理
2. **StrandsAgentManager**: テキスト処理とモデル呼び出しを管理するクラス
3. **チャンク処理**: 大きなテキストを効率的に処理するためのチャンキングロジック
4. **React コンポーネント**: ユーザーインターフェースとフォーム入力の管理

## 必要条件

Weekly Report生成機能を使用するには、以下が必要です：

1. AWS認証情報が正しく設定されていること
2. AWS BedrockへのアクセスとClaude 3.7 Sonnetモデルへの使用権限があること
3. 十分な長さの文字起こしテキストがあること
4. 少なくとも顧客名などの基本情報が入力されていること

## トラブルシューティング

**Q: Weekly Reportの生成が失敗する**

A: 以下を確認してください：
- AWS認証情報が正しく設定されているか
- インターネット接続があるか
- 入力テキストが極端に短くないか
- 少なくとも顧客名が入力されているか

**Q: 生成されたレポートの内容が期待と異なる**

A: 以下をお試しください：
- 入力テキスト（文字起こし）の品質を確認
- 温度パラメータを0に設定し、より確実性の高い出力を試す
- 顧客情報をより詳細に入力する

## 制限事項

- 非常に短い文字起こしデータからは有意義なレポートを生成できない場合があります
- 極端に長い文字起こしデータ（10万文字超）は処理に時間がかかる場合があります
- 特定の専門分野の用語や略語は正確に理解されない場合があります